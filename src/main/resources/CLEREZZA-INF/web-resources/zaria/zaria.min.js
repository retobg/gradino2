var Zaria=(function(a,n){var d={layout:'<div class="zariaToolbar">[bold][italic][underline]</div>[edit-area]',buttons:[{name:"bold",label:"Bold",cmd:"bold",className:"bold"},{name:"italic",label:"Italic",cmd:"italic",className:"italic"},{name:"underline",label:"Underline",cmd:"underline",className:"underline"}]};function e(o){return document.getElementById(o)}function l(){if(document.designMode){var y=e(this.id),o=y.style.width,A=y.style.height,u=y.value,v=y.className,w,r,q,t,z,p,s,x;this.mode="html";y.style.display="none";w=this.options.layout;for(r in this.options.buttons){t="";z=this.options.buttons[r].className||"";if(this.options.buttons[r].menu){t='<select name="'+this.frameId+'" id="'+this.frameId+"-"+this.options.buttons[r].name+'" class="'+z+'" ><option>Select '+this.options.buttons[r].label+"</option>";for(q in this.options.buttons[r].menu){t+='<option value="'+this.options.buttons[r].menu[q].value+'">'+this.options.buttons[r].menu[q].label+"</option>"}t+="</select>"}else{t='<a name="'+this.frameId+'" id="'+this.frameId+"-"+this.options.buttons[r].name+'" class="'+z+'" width="20" height="20" alt="'+this.options.buttons[r].label+'" title="'+this.options.buttons[r].label+'" href="javascript:void(0);" ></a>'}w=w.replace("["+this.options.buttons[r].name+"]",t)}p='<iframe id="'+this.frameId+'" width="'+o+'" height="'+A+'" style="width:'+o+"; height:"+A+'; border-width: thin;" class="'+v+'" frameborder="1"></iframe>';w=w.replace("[edit-area]",p);s=document.createElement("div");s.innerHTML=w;g(s,y);f.call(this,this.frameId);x=k(this.frameId);x.open();x.write("<html><head></head><body>"+u+"</body></html>");x.close();x.body.contentEditable=true;x.designMode="on"}}function j(){if(document.designMode){if(window[this.frameId]){return window[this.frameId].document.body.innerHTML}return e(this.frameId).contentWindow.document.body.innerHTML}else{return e(this.id).value}}function h(){var q="";if(this.mode=="text"){var p=k(this.frameId);if(document.all){var o=escape(p.body.innerText);o=o.replace("%3CP%3E%0D%0A%3CHR%3E","%3CHR%3E");o=o.replace("%3CHR%3E%0D%0A%3C/P%3E","%3CHR%3E");q=unescape(o)}else{var r=p.body.ownerDocument.createRange();r.selectNodeContents(p.body);q=r.toString()}}else{q=j.call(this)}if(typeof(HTMLtoXML)!="undefined"){q=HTMLtoXML(q)}e(this.id).value=q}function f(r){var o=this,q,p;for(q in this.options.buttons){p=e(r+"-"+this.options.buttons[q].name);if(p&&p.name==r){p.onmouseup="return false;";if(this.options.buttons[q].menu){p.onchange=(function(s,t){return function(){m.call(o,s,o.options.buttons[t])}})(p,q)}else{if(this.options.buttons[q].prompt){p.onclick=(function(s){return function(){c.call(o,o.options.buttons[s])}})(q)}else{if(this.options.buttons[q].toggleMode){p.onclick=(function(s){return function(){b.call(o,s)}})(p)}else{if(this.options.buttons[q].custom){p.onclick=this.options.buttons[q].custom}else{p.onclick=(function(s){return function(){i.call(o,o.options.buttons[s])}})(q)}}}}}}}function i(o){var p=window[this.frameId]||e(this.frameId).contentWindow;p.focus();p.document.execCommand(o.cmd,false,null);p.focus()}function m(p,o){var r=p.selectedIndex;if(r!==0){var q=window[this.frameId]||e(this.frameId).contentWindow;q.focus();q.document.execCommand(o.cmd,false,p.options[r].value);q.focus()}}function c(o){var q=prompt(o.prompt,"");if(q){var p=window[this.frameId]||e(this.frameId).contentWindow;p.focus();p.document.execCommand(o.cmd,false,q);p.focus()}}function b(q){var r=k(this.frameId),p;if(this.mode=="html"){for(p in this.options.buttons){currentElement=e(this.frameId+"-"+this.options.buttons[p].name);if(currentElement!=q){currentElement.style.display="none"}}if(document.all){r.body.innerText=r.body.innerHTML}else{var s=r.createTextNode(r.body.innerHTML);r.body.innerHTML="";r.body.appendChild(s)}this.mode="text"}else{for(p in this.options.buttons){currentElement=e(this.frameId+"-"+this.options.buttons[p].name);if(currentElement!=q){currentElement.style.display=""}}if(document.all){var o=escape(r.body.innerText);o=o.replace("%3CP%3E%0D%0A%3CHR%3E","%3CHR%3E");o=o.replace("%3CHR%3E%0D%0A%3C/P%3E","%3CHR%3E");r.body.innerHTML=unescape(o)}else{var s=r.body.ownerDocument.createRange();s.selectNodeContents(r.body);r.body.innerHTML=s.toString()}this.mode="html"}}function k(o){if(e(o).contentDocument){return e(o).contentDocument}else{return document.frames[o].document}}function g(q,o){var p=o.parentNode;if(p.lastchild==o){p.appendChild(q)}else{p.insertBefore(q,o.nextSibling)}}return function(p,o){this.id=p;this.prefix="zaria-";this.frameId=this.prefix+this.id;this.options=o||d;this.mode=null;this.syncContent=h;l.call(this)}})();